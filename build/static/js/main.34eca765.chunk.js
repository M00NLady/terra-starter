(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{117:function(e,t){},322:function(e){e.exports=JSON.parse('{"localterra":{"clicker":{"codeId":"6","contractAddresses":{"default":"terra19zpyd046u4swqpksr3n44cej4j8pg6ah2y6dcg"}}},"testnet":{"clicker":{"codeId":"68421","contractAddresses":{"default":"terra1nmw6l067y5r37raa8n9jv4qm2puk3r0pfark9w"}}}}')},325:function(e,t,n){},445:function(e,t){},447:function(e,t){},457:function(e,t){},459:function(e,t){},472:function(e,t){},474:function(e,t){},559:function(e,t){},561:function(e,t){},570:function(e,t){},612:function(e,t,n){},613:function(e,t,n){},614:function(e,t,n){"use strict";n.r(t);var c=n(21),r=(n(325),n(42)),a=n(4),s=function(){var e=Object(r.d)(),t=Object(c.a)({},e).terraAddress;return Object(a.jsx)("div",{children:t&&Object(a.jsx)("button",{className:"wallet-address",children:t.slice(0,5)+"..."+t.slice(-4)})})},i=n(65),o=[{name:"Play",link:"/play"},{name:"Leaderboard",link:"/leaderboard"},{name:"How to play",link:"/guide"}],l=function(){return Object(a.jsx)("div",{className:"game-menu",children:o.map((function(e,t){var n=e.name,c=e.link;return Object(a.jsx)(i.b,{to:c,className:"menu-item",children:Object(a.jsx)("span",{className:"item-text",children:n})},t)}))})};var u=function(){var e=Object(r.e)(),t=e.status,n=e.connect,c=e.disconnect,s=e.availableConnectTypes;return console.log("Wallet status is ",t),console.log("Available connection types:",s),Object(a.jsxs)("main",{className:"App",children:[Object(a.jsx)("header",{children:Object(a.jsxs)("div",{className:"header-titles",children:[Object(a.jsx)("h1",{children:"\ud83d\udd2a Octo War \ud83d\udc19"}),Object(a.jsx)("p",{children:"Only you can save us from the Killer Octos"})]})}),t===r.b.WALLET_NOT_CONNECTED&&Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"posessed.png",id:"Octopus Image",alt:"Octopus"})}),t===r.b.WALLET_CONNECTED&&Object(a.jsx)("div",{className:"game-menu-container",children:Object(a.jsx)(l,{})}),t===r.b.WALLET_NOT_CONNECTED?Object(a.jsx)("div",{className:"connect-wallet-div",children:Object(a.jsx)("button",{type:"button",onClick:function(){return n("EXTENSION")},className:"cta-button connect-wallet-button",children:"Connect wallet"},"connect-EXTENSION")}):t===r.b.WALLET_CONNECTED?Object(a.jsx)("button",{type:"button",onClick:function(){return c()},className:"cta-button connect-wallet-button",children:"Disconnect"}):void 0]})},j=n(1),d=n.n(j),b=n(321),O=n.n(b),h=n(17),x=(n(612),n(7)),f=n(19),p=n(0),m=n.n(p),v=n(24),w=n(322),N=function(e){return w[e.network.name].clicker.contractAddresses.default},g=function(e){return new Promise((function(t){return setTimeout(t,e)}))},k=Date.now()+36e5,y=Date.now()+6e4,E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new v.Fee(2e5,{uluna:1e4});return function(){var n=Object(x.a)(m.a.mark((function n(c){var r,a,s;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new v.LCDClient({URL:c.network.lcd,chainID:c.network.chainID}),n.next=3,c.post({fee:t,msgs:[new v.MsgExecuteContract(c.walletAddress,N(c),e)]});case 3:a=n.sent,s=a.result;case 5:return n.prev=6,n.next=9,r.tx.txInfo(s.txhash);case 9:return n.abrupt("return",n.sent);case 12:if(n.prev=12,n.t0=n.catch(6),!(Date.now()<y)){n.next=19;break}return n.next=17,g(500);case 17:n.next=25;break;case 19:if(!(Date.now()<k)){n.next=24;break}return n.next=22,g(1e4);case 22:n.next=25;break;case 24:throw new Error("Transaction queued. To verify the status, please check the transaction hash: ".concat(s.txhash));case 25:n.next=5;break;case 27:case"end":return n.stop()}}),n,null,[[6,12]])})));return function(e){return n.apply(this,arguments)}}()},C=function(){var e=Object(x.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E({upsert_score:{score:n}})(t));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=(n(613),function(){return Object(a.jsxs)("div",{className:"lds-ring",children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})}),S=function(){var e=Object(r.d)(),t=Object(j.useState)(22),n=Object(f.a)(t,2),s=n[0],i=n[1],o=Object(j.useState)(!1),l=Object(f.a)(o,2),u=(l[0],l[1],Object(j.useState)({top:"15%",left:"50%"})),d=Object(f.a)(u,2),b=d[0],O=d[1],h=Object(j.useState)(!1),p=Object(f.a)(h,2),v=p[0],w=p[1],N=Object(j.useState)(0),g=Object(f.a)(N,2),k=g[0],y=g[1];Object(j.useEffect)((function(){var e=setInterval((function(){i((function(e){return e>0?e-1:0}))}),1e3);return e}),[]),Object(j.useEffect)((function(){0===s&&(O({display:"none"}),alert("Game Over! Your score is ".concat(k,". Please confirm transaction to submit score.")),E())}),[s]);var E=function(){var t=Object(x.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||"testnet"!==e.network.name){t.next=9;break}return w(!0),t.next=4,C(e,k);case 4:n=t.sent,console.log(n),alert("Score submitted!"),w(!1),window.location.href="/leaderboard";case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"score-board-container",children:[Object(a.jsxs)("div",{className:"play-container",children:[Object(a.jsxs)("span",{children:["Score: ",k]}),Object(a.jsx)("span",{children:"Fight!"}),Object(a.jsxs)("span",{children:["Time left: ",s," s"]})]}),v?Object(a.jsx)(T,{}):Object(a.jsxs)("div",{className:"game-container",children:[Object(a.jsx)("img",{src:"martini front.png",id:"target",alt:"Target",style:Object(c.a)({},b),onClick:function(){var e=new Audio("/Zergling_explodes.mp3");e.volume=.5,e.play(),y((function(e){return e+1})),O({top:"".concat(Math.floor(66*Math.random()),"%"),left:"".concat(Math.floor(88*Math.random()),"%")})}}),Object(a.jsx)("img",{src:"posessed.png",id:"Octopus Image",alt:"Octopus"})]})]})},A=function(){return Object(a.jsxs)("main",{className:"App",children:[Object(a.jsx)("header",{children:Object(a.jsx)(i.b,{to:"/",className:"home-link",children:Object(a.jsxs)("div",{className:"header-titles",children:[Object(a.jsx)("h1",{children:"\ud83d\udd2a Octo War \ud83d\udc19"}),Object(a.jsx)("p",{children:"Only you can save us from the Killer Octos"})]})})}),Object(a.jsxs)("div",{className:"score-board-container",children:[Object(a.jsx)("h3",{children:"How to play"}),Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"help",children:"Click as many martinis as you can within 22 seconds!"})})]})]})},D=function(){var e=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Contract address is ",N(t)),n=new v.LCDClient({URL:t.network.lcd,chainID:t.network.chainID}),e.abrupt("return",n.wasm.contractQuery(N(t),{get_scores:{}}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(j.useState)(),t=Object(f.a)(e,2),n=t[0],c=t[1],o=Object(j.useState)(!0),l=Object(f.a)(o,2),u=l[0],d=l[1],b=Object(r.d)();Object(j.useEffect)((function(){d(!0);var e=function(){var e=Object(x.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b||"testnet"!==b.network.name){e.next=4;break}return e.next=3,D(b);case 3:return e.abrupt("return",e.sent.scores);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then((function(e){c(e),d(!1)}))}),[b]);return Object(a.jsxs)("main",{className:"App",children:[Object(a.jsxs)("header",{children:[Object(a.jsx)(i.b,{to:"/",className:"home-link",children:Object(a.jsxs)("div",{className:"header-titles",children:[Object(a.jsx)("h1",{children:"\ud83d\udd2a Octo War \ud83d\udc19"}),Object(a.jsx)("p",{children:"Only you can save us from the Killer Octos"})]})}),Object(a.jsx)(s,{})]}),Object(a.jsxs)("div",{className:"score-board-container",children:[Object(a.jsx)("h3",{children:"Scoreboard"}),u?Object(a.jsx)("div",{children:"Loading..."}):function(e){return!e||e.length<1?Object(a.jsx)("div",{children:" No scores available :( "}):e.map((function(e,t){return Object(a.jsx)("div",{className:"score",children:Object(a.jsxs)("span",{children:[e[0].slice(0,5)+"..."+e[0].slice(-4),":"," ",e[1].toString().padStart(2,"0")]})},t)}))}(n),Object(a.jsx)("div",{})]})]})},I="_buildspace",_="https://twitter.com/".concat(I);Object(r.c)().then((function(e){O.a.render(Object(a.jsx)(d.a.StrictMode,{children:Object(a.jsx)(r.a,Object(c.a)(Object(c.a)({},e),{},{children:Object(a.jsxs)("div",{className:"App-header",children:[Object(a.jsx)(i.a,{children:Object(a.jsxs)(h.c,{children:[Object(a.jsx)(h.a,{path:"/",element:Object(a.jsx)(u,{})}),Object(a.jsx)(h.a,{path:"/play",element:Object(a.jsx)(S,{})}),Object(a.jsx)(h.a,{path:"/leaderboard",element:Object(a.jsx)(L,{})}),Object(a.jsx)(h.a,{path:"/guide",element:Object(a.jsx)(A,{})})]})}),Object(a.jsxs)("div",{className:"footer-container",children:[Object(a.jsx)("img",{alt:"Twitter Logo",className:"twitter-logo",src:"/twitter-logo.svg"}),Object(a.jsx)("a",{className:"footer-text",href:_,target:"_blank",rel:"noreferrer",children:"Made with @".concat(I)})]})]})}))}),document.getElementById("root"))}))}},[[614,1,2]]]);
//# sourceMappingURL=main.34eca765.chunk.js.map